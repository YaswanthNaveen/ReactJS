{"ast":null,"code":"var _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$();\n\nimport { useCallback, useState, useEffect } from \"react\";\nexport function useLocalStorage(key, defaultValue) {\n  _s();\n\n  return useStorage(key, defaultValue, window.localStorage);\n}\n\n_s(useLocalStorage, \"S0m34To1Ci5mukmSAeTwXfhfNsE=\", false, function () {\n  return [useStorage];\n});\n\nexport function useSessionStorage(key, defaultValue) {\n  _s2();\n\n  return useStorage(key, defaultValue, window.sessionStorage);\n}\n\n_s2(useSessionStorage, \"S0m34To1Ci5mukmSAeTwXfhfNsE=\", false, function () {\n  return [useStorage];\n});\n\nfunction useStorage(key, defaultValue, storageObject) {\n  _s3();\n\n  const [value, setValue] = useState(() => {\n    const jsonValue = storageObject.getItem(key);\n    if (jsonValue != null) return JSON.parse(jsonValue);\n\n    if (typeof defaultValue === \"function\") {\n      return defaultValue();\n    } else {\n      return defaultValue;\n    }\n  });\n  useEffect(() => {\n    if (value === undefined) return storageObject.removeItem(key);\n    storageObject.setItem(key, JSON.stringify(value));\n  }, [key, value, storageObject]);\n  const remove = useCallback(() => {\n    setValue(undefined);\n  }, []);\n  return [value, setValue, remove];\n}\n\n_s3(useStorage, \"l6HiId4MYge0bjcszSKdwDzc7P4=\");","map":{"version":3,"sources":["C:/Users/yaswa/OneDrive/MyReact/MyReact/useful-custom-hooks/src/8-useStorage/useStorage.js"],"names":["useCallback","useState","useEffect","useLocalStorage","key","defaultValue","useStorage","window","localStorage","useSessionStorage","sessionStorage","storageObject","value","setValue","jsonValue","getItem","JSON","parse","undefined","removeItem","setItem","stringify","remove"],"mappings":";;;;AAAA,SAASA,WAAT,EAAsBC,QAAtB,EAAgCC,SAAhC,QAAiD,OAAjD;AAEA,OAAO,SAASC,eAAT,CAAyBC,GAAzB,EAA8BC,YAA9B,EAA4C;AAAA;;AACjD,SAAOC,UAAU,CAACF,GAAD,EAAMC,YAAN,EAAoBE,MAAM,CAACC,YAA3B,CAAjB;AACD;;GAFeL,e;UACPG,U;;;AAGT,OAAO,SAASG,iBAAT,CAA2BL,GAA3B,EAAgCC,YAAhC,EAA8C;AAAA;;AACnD,SAAOC,UAAU,CAACF,GAAD,EAAMC,YAAN,EAAoBE,MAAM,CAACG,cAA3B,CAAjB;AACD;;IAFeD,iB;UACPH,U;;;AAGT,SAASA,UAAT,CAAoBF,GAApB,EAAyBC,YAAzB,EAAuCM,aAAvC,EAAsD;AAAA;;AACpD,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBZ,QAAQ,CAAC,MAAM;AACvC,UAAMa,SAAS,GAAGH,aAAa,CAACI,OAAd,CAAsBX,GAAtB,CAAlB;AACA,QAAIU,SAAS,IAAI,IAAjB,EAAuB,OAAOE,IAAI,CAACC,KAAL,CAAWH,SAAX,CAAP;;AAEvB,QAAI,OAAOT,YAAP,KAAwB,UAA5B,EAAwC;AACtC,aAAOA,YAAY,EAAnB;AACD,KAFD,MAEO;AACL,aAAOA,YAAP;AACD;AACF,GATiC,CAAlC;AAWAH,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIU,KAAK,KAAKM,SAAd,EAAyB,OAAOP,aAAa,CAACQ,UAAd,CAAyBf,GAAzB,CAAP;AACzBO,IAAAA,aAAa,CAACS,OAAd,CAAsBhB,GAAtB,EAA2BY,IAAI,CAACK,SAAL,CAAeT,KAAf,CAA3B;AACD,GAHQ,EAGN,CAACR,GAAD,EAAMQ,KAAN,EAAaD,aAAb,CAHM,CAAT;AAKA,QAAMW,MAAM,GAAGtB,WAAW,CAAC,MAAM;AAC/Ba,IAAAA,QAAQ,CAACK,SAAD,CAAR;AACD,GAFyB,EAEvB,EAFuB,CAA1B;AAIA,SAAO,CAACN,KAAD,EAAQC,QAAR,EAAkBS,MAAlB,CAAP;AACD;;IAtBQhB,U","sourcesContent":["import { useCallback, useState, useEffect } from \"react\"\r\n\r\nexport function useLocalStorage(key, defaultValue) {\r\n  return useStorage(key, defaultValue, window.localStorage)\r\n}\r\n\r\nexport function useSessionStorage(key, defaultValue) {\r\n  return useStorage(key, defaultValue, window.sessionStorage)\r\n}\r\n\r\nfunction useStorage(key, defaultValue, storageObject) {\r\n  const [value, setValue] = useState(() => {\r\n    const jsonValue = storageObject.getItem(key)\r\n    if (jsonValue != null) return JSON.parse(jsonValue)\r\n\r\n    if (typeof defaultValue === \"function\") {\r\n      return defaultValue()\r\n    } else {\r\n      return defaultValue\r\n    }\r\n  })\r\n\r\n  useEffect(() => {\r\n    if (value === undefined) return storageObject.removeItem(key)\r\n    storageObject.setItem(key, JSON.stringify(value))\r\n  }, [key, value, storageObject])\r\n\r\n  const remove = useCallback(() => {\r\n    setValue(undefined)\r\n  }, [])\r\n\r\n  return [value, setValue, remove]\r\n}\r\n"]},"metadata":{},"sourceType":"module"}